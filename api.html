<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>API Based Data Display</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

<style>
#loader{
  display:none;
  text-align:center;
  font-size:18px;
}
</style>
</head>

<body class="bg-light">

<div class="container py-4">

  <h3 class="text-center mb-3">Users (Loaded from API)</h3>

  <div class="text-center mb-3">
    <button id="load" class="btn btn-primary">Load Users</button>
  </div>

  <div id="loader">Loading...</div>

  <table class="table table-bordered table-striped">
    <thead>
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>City</th>
      </tr>
    </thead>
    <tbody id="users"></tbody>
  </table>

</div>

<script>

$("#load").click(function(){

  $.ajax({

    url:"https://jsonplaceholder.typicode.com/users",
    type:"GET",
    dataType:"json",

    beforeSend:function(){
      $("#loader").show();
    },

    success:function(data){

      let rows="";

      data.forEach(u=>{
        rows+=`
          <tr>
            <td>${u.name}</td>
            <td>${u.email}</td>
            <td>${u.address.city}</td>
          </tr>
        `;
      });

      $("#users").html(rows);
    },

    error:function(){
      alert("API failed to load");
    },

    complete:function(){
      $("#loader").hide();
    }

  });

});

</script>

</body>
</html>
